<h3 i18n>Libraries</h3>

@for (license of licenses(); track $index) {
  <div class="license">
    <h4>
      {{ license.Title }} - {{ license.data?.license }}
      @if (license.Url) {
        <a href="{{ license.Url }}">
          <sh-icon>link</sh-icon>
        </a>
      }
    </h4>

    <p>
      {{ license.data?.description }}
      <br />
      <i>{{ license.data?.notes }}</i>
    </p>

    <div class="actions">
      <button shButton (click)="openLicense(license)" i18n>
        Details
        <sh-icon>arrow-square-in</sh-icon>
      </button>
    </div>
  </div>
}

<sh-dialog [(isOpen)]="dialogIsOpen" [options]="{ maxWidth: '700px', width: '100%' }">
  <header header>
    <h3>{{ dialogLicense()?.Title }}</h3>
  </header>

  <div content>
    @let license = dialogLicense()?.License ?? '';

    <div class="license-dialog">
      {{ license }}
    </div>
  </div>

  <footer footer>
    <button shButton type="button" (click)="dialogLicense.set(null); dialogIsOpen.set(false)">Close</button>
  </footer>
</sh-dialog>
