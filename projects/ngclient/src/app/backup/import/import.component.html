<header>
  <h3 i18n>
    Import backup configuration

    <div class="actions">
      <button shButton type="button" class="outlined" [routerLink]="['/']">
        <sh-icon>arrow-left</sh-icon>
        Back
      </button>

      <button
        shButton
        type="submit"
        class="raised primary"
        (click)="submit()"
        [disabled]="isImporting()"
        [class.loader]="isImporting()">
        <sh-icon>download-simple</sh-icon>
        Import
      </button>
    </div>
  </h3>
</header>

<form [formGroup]="importForm" autocomplete="off">
  <sh-file-upload [files]="selectedFile()" (filesChange)="onFileDropped($event)" accept=".json,.aes" />

  @if (isSecureFile()) {
    <sh-form-field>
      <label for="passphrase" i18n>Passphrase</label>
      <input type="password" formControlName="passphrase" />
    </sh-form-field>
  }

  <sh-toggle class="primary raised">
    <label for="importMetadata" i18n>Import Metadata</label>
    <input type="checkbox" formControlName="import_metadata" />
  </sh-toggle>

  <sh-toggle class="primary raised">
    <label for="direct" i18n>Save now</label>
    <input type="checkbox" formControlName="direct" />
  </sh-toggle>
</form>
