<form [formGroup]="loginForm" (submit)="submit()">
  @if (failedLogin() && !successLogin()) {
    <sh-alert type="warning" i18n>
      Remember to enter a password, if you can't remember the password open the duplicati client on the machine in
      question and make sure you open it through the tray icon then go into settings to change the password.
    </sh-alert>
  }

  <div class="logo-login">
    <app-logo></app-logo>
  </div>

  <div class="inner">
    <div class="login-row">
      <input type="text" hidden autocomplete="off" name="username" formControlName="user" />

      <sh-form-field>
        <label for="password" i18n>
          Password

          <a
            href="https://docs.duplicati.com/detailed-descriptions/duplicati-access-password"
            target="_blank"
            rel="noopener noreferrer">
            <sh-icon>question</sh-icon>
          </a>
        </label>

        <input
          #passwordInput
          [type]="showPassword() ? 'text' : 'password'"
          name="password"
          autocomplete="current-password"
          i18n-placeholder
          placeholder="Enter your password"
          tabindex="1"
          formControlName="pass" />
        <sh-icon suffix (click)="showPassword.set(!showPassword())">{{ showPassword() ? 'eye' : 'eye-slash' }}</sh-icon>
      </sh-form-field>

      <button shButton class="raised primary login-button" [class.loader]="isLoading()" type="submit" i18n>
        Login
        <sh-icon>arrow-right</sh-icon>
      </button>
    </div>

    <sh-checkbox class="raised primary" i18n>
      Keep me logged in
      <input type="checkbox" id="rememberMe" tabindex="2" formControlName="rememberMe" />
    </sh-checkbox>

    <div class="login-row checkbox">
      <label for="rememberMe" class="remember-me"></label>
    </div>
  </div>
</form>
