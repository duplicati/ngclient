<app-status-bar />

<spk-stepper>
  <div step routerLinkActive="active" [routerLink]="[isDraft() ? '/backup-draft' : '/backup', backupId(), 'general']">
    <spk-radio />
    General
  </div>
  <div
    step
    routerLinkActive="active"
    [routerLink]="[isDraft() ? '/backup-draft' : '/backup', backupId(), 'destination']">
    <spk-radio />
    Destination
  </div>
  <div
    step
    routerLinkActive="active"
    [routerLink]="[isDraft() ? '/backup-draft' : '/backup', backupId(), 'source-data']">
    <spk-radio />
    Source Data
  </div>
  <div step routerLinkActive="active" [routerLink]="[isDraft() ? '/backup-draft' : '/backup', backupId(), 'schedule']">
    <spk-radio />
    Schedule
  </div>
  <div step routerLinkActive="active" [routerLink]="[isDraft() ? '/backup-draft' : '/backup', backupId(), 'options']">
    <spk-radio />
    Options
  </div>
</spk-stepper>

@if (loadingBackup() && !sysinfoLoaded() && !finishedLoading()) {
  <spk-progress-bar class="indeterminate primary"></spk-progress-bar>
} @else {
  <section>
    <router-outlet></router-outlet>
  </section>
}
