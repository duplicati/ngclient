<section>
  <h3 class="title-30" i18n>Options</h3>

  <div class="remote-volume-wrap">
    <app-size [customId]="'size'" [(ngModel)]="optionsFields.remoteVolumeSize">
      <label for="size" i18n>
        Remote volume size
        @if (exceededVolumeSize()) {
          <spk-icon class="warning">warning</spk-icon>
        }
      </label>
    </app-size>

    @if (exceededVolumeSize()) {
      <p class="warning" i18n>
        The chosen size is outside the recommended range. This may cause performance issues, excessively large temporary
        files or other problems.
      </p>
    }
    <p i18n>
      The backups will be split up into multiple files called volumes. Here you can set the maximum size of the
      individual volume files.
      <a href="https://forum.duplicati.com/t/choosing-sizes-in-duplicati/17683" target="_blank" class="spk-primary">
        Read more
        <spk-icon suffix>arrow-square-out</spk-icon>
      </a>
    </p>
  </div>

  <spk-select [options]="retentionOptions()" [isClearable]="false" [inlineSearch]="true" value="value" label="name">
    <label for="size" i18n>Backup retention</label>
    <input type="text" [(ngModel)]="optionsFields.backupRetention" />
  </spk-select>

  <pre>{{ optionsFields.backupRetention() | json }}</pre>
  <pre>{{ retentionOptions() | json }}</pre>

  <app-options-list
    [(options)]="settings"
    [hiddenOptions]="[
      'encryption-module',
      '--no-encryption',
      '--exclude-files-attributes',
      '--skip-files-larger-than',
      'dblock-size',
      'no-encryption',
    ]" />

  <div class="form-actions">
    <button spk-button type="button" (click)="goBack()" i18n>
      <spk-icon>arrow-left</spk-icon>
      Go back
    </button>

    <button spk-button class="raised primary" [class.loader]="isSubmitting()" (click)="submit()" i18n>
      <spk-icon>arrow-right</spk-icon>
      Submit
    </button>
  </div>
</section>
